name: Validate
run-name: "✅ Validate • hassfest + HACS • ${{ github.ref_name }}"

on:
  pull_request:
  push:
    branches: [ main ]

jobs:
  hassfest:
    name: "⚙️ hassfest"
    runs-on: ubuntu-latest
    steps:
      - name: 📥 Checkout
        uses: actions/checkout@v5
      - name: 🔧 Run hassfest
        uses: home-assistant/actions/hassfest@master

  hacs:
    name: "🧩 HACS validation"
    runs-on: ubuntu-latest
    steps:
      - name: 📥 Checkout
        uses: actions/checkout@v5
      - name: 🔎 HACS validation
        uses: hacs/action@main
        with:
          category: "integration"
          # ignore: "brands"
